# Linux基本命令

| 命令                               | 说明                                                      |
| ---------------------------------- | :-------------------------------------------------------- |
| ll                                 | 查看所有文件                                              |
| ls –l                              | 示一个文件的属性以及文件所属的用户和组                    |
| ls -a                              | 全部的文件，连同隐藏档( 开头为 . 的文件) 一起列出来(常用) |
| pwd                                | 查看当前目录                                              |
| cd ~                               | 表示回到自己的家目录                                      |
| chmod 777 文件名/文件夹            | 赋予最高权限                                              |
| chmod -R 777 文件名/文件夹         | 及其子文件夹                                              |
| service --status-all               | 查看服务                                                  |
| service rabbitmq-server(名称) stop | 关闭服务                                                  |
| shutdown –h now                    | 立马关机                                                  |
| shutdown –h 20:25                  | 系统会在今天20:25关机                                     |
| shutdown –h +10                    | 十分钟后关机                                              |
| shutdown –r now                    | 系统立马重启                                              |
| shutdown –r +10                    | 系统十分钟后重启                                          |
|                                    |                                                           |
|                                    |                                                           |
|                                    |                                                           |



## Linux目录

![1550556220544](C:\Users\19970326\AppData\Roaming\Typora\typora-user-images\1550556220544.png)		

- **-/etc**： 系统中的配置文件，如果你更改了该目录下的某个文件可能会导致系统不能启动。

- **/bin, /sbin, /usr/bin, /usr/sbin**: 这是系统预设的执行文件的放置目录，比如 ls 就是在/bin/ls 目录下的。

- 值得提出的是，/bin, /usr/bin 是给系统用户使用的指令（除root外的通用户），而/sbin, /usr/sbin 则是给root使用的指令。

- **/var**： 这是一个非常重要的目录，系统上跑了很多程序，那么每个程序都会有相应的日志产生，而这些日志就被记录到这个目录下，具体在/var/log 目录下，另外mail的预设放置也是在这里。		

​	

## Linux文件属性

**ls -l 可以查看目录下的文件属性**

- 当为[ **d** ]则是目录
- 当为[ **-** ]则是文件；
- 若是[ **l** ]则表示为链接文档(link file)；
- 若是[ **b** ]则表示为装置文件里面的可供储存的接口设备(可随机存取装置)；
- 若是[ **c** ]则表示为装置文件里面的串行端口设备，例如键盘、鼠标(一次性读取装置)。

**如下图**

![1550557192056](C:\Users\19970326\AppData\Roaming\Typora\typora-user-images\1550557192056.png)		

**1. chgrp：更改文件属组**

~~~ java
chgrp [-R] 属组名 文件名
~~~

- -R：递归更改文件属组，就是在更改某个目录文件的属组时，如果加上-R的参数，那么该目录下的所有文件的属组都会更改。

**2. chown：更改文件属主，也可以同时更改文件属组**

~~~ java
chown [–R] 属主名 文件名
chown [-R] 属主名：属组名 文件名
~~~

**3. chmod：更改文件9个属性**

- r:4
- w:2
- x:1

~~~ java
chmod [-R] xyz 文件或目录
~~~





## 文件与目录管理

> **处理目录的常用命令**

- ls: 列出目录
- cd：切换目录
- pwd：显示目前的目录
- mkdir：创建一个新的目录
- rmdir：删除一个空的目录
- cp: 复制文件或目录
- rm: 移除文件或目录
- mv: 移动文件与目录，或修改文件与目录的名称

> **mkdir (创建新目录)**

~~~ java
mkdir [-m or -p] 目录名称
~~~

- -m ：配置文件的权限喔！直接配置，不需要看默认权限 (umask) 的脸色～
- -p ：帮助你直接将所需要的目录(包含上一级目录)递归创建起来！

> **rmdir (删除空的目录)**

~~~ java
rmdir [-p] 目录名称
~~~

- **-p ：**连同上一级『空的』目录也一起删除，比如 **rmdir test2/test2**  删除两个目录

* 不过要注意的是，这个 rmdir **仅能删除空的目录**，你可以使用 rm 命令来删除非空目录。

> **cp (复制文件或目录)**

~~~ java
[root@www ~]# cp [-adfilprsu] 来源档(source) 目标档(destination)
~~~

- **-a：**相当於 -pdr 的意思，至於 pdr 请参考下列说明；(常用)
- **-d：**若来源档为连结档的属性(link file)，则复制连结档属性而非文件本身；
- **-f：**为强制(force)的意思，若目标文件已经存在且无法开启，则移除后再尝试一次；
- **-i：**若目标档(destination)已经存在时，在覆盖时会先询问动作的进行(常用)
- **-l：**进行硬式连结(hard link)的连结档创建，而非复制文件本身；
- **-p：**连同文件的属性一起复制过去，而非使用默认属性(备份常用)；
- **-r：**递归持续复制，用於目录的复制行为；(常用)
- **-s：**复制成为符号连结档 (symbolic link)，亦即『捷径』文件；
- **-u：**若 destination 比 source 旧才升级 destination ！

> **rm (移除文件或目录)**

~~~ java
rm [-fir] 文件或目录
~~~

- -f ：就是 force 的意思，忽略不存在的文件，不会出现警告信息；
- -i ：互动模式，在删除前会询问使用者是否动作
- -r ：递归删除啊！最常用在目录的删除了！这是非常危险的选项！！！

> **mv (移动文件与目录，或修改名称)**

~~~java
[root@www ~]# mv [-fiu] source destination
~~~

- -f ：force 强制的意思，如果目标文件已经存在，不会询问而直接覆盖；
- -i ：若目标文件 (destination) 已经存在时，就会询问是否覆盖！
- -u ：若目标文件已经存在，且 source 比较新，才会升级 (update)

> **Linux 文件内容查看**

- cat  由第一行开始显示文件内容
- tac  从最后一行开始显示，可以看出 tac 是 cat 的倒著写！
- nl   显示的时候，顺道输出行号！
- more 一页一页的显示文件内容
- less 与 more 类似，但是比 more 更好的是，他可以往前翻页！
- head 只看头几行
- tail 只看尾巴几行

**cat的使用**

~~~java
cat [-AbEnTv] 文件名
~~~

- -A ：相当於 -vET 的整合选项，可列出一些特殊字符而不是空白而已；
- -b ：列出行号，仅针对非空白行做行号显示，空白行不标行号！
- -E ：将结尾的断行字节 $ 显示出来；
- -n ：列印出行号，连同空白行也会有行号，与 -b 的选项不同；
- -T ：将 [tab] 按键以 ^I 显示出来；
- -v ：列出一些看不出来的特殊字符





## Linux vi/vim

**vi/vim 的使用**

```
基本上 vi/vim 共分为三种模式，分别是**命令模式（Command mode）**，**输入模式（Insert mode）**和**底线命令模式（Last line mode）**。
```

![1550561212940](C:\Users\19970326\AppData\Roaming\Typora\typora-user-images\1550561212940.png)

- 您目前处于「插入模式（Insert mode）」，您就只能一直输入文字，如果您发现输错了字！想用光标键往回移动，将该字删除，就要先按一下「ESC」键转到「命令行模式（command mode）」再删除文字。

- 命令行模式：vi可以直接用键盘上的光标来上下左右移动，但正规的vi是用小写英文字母「h」、「j」、「k」、「l」，分别控制光标左、下、上、右移一格。

- 移动光标

  按数字「0」：移到文章的开头。

　　按「G」：移动到文章的最后。

　　按「$」：移动到光标所在行的"行尾"。

　　按「^」：移动到光标所在行的"行首"

- 删除文字

  「x」：每按一次，删除光标所在位置的"后面"一个字符。

　　「#x」：例如，「6x」表示删除光标所在位置的"后面"6个字符。

　　「X」：大写的X，每按一次，删除光标所在位置的"前面"一个字符。

　　「#X」：例如，「20X」表示删除光标所在位置的"前面"20个字符。

　　「dd」：删除光标所在行。

　　「#dd」：从光标所在行开始删除#行





## linux yum 命令

yum（ Yellow dog Updater, Modified）是一个在Fedora和RedHat以及SUSE中的Shell前端软件包管理器。

基於RPM包管理，能够从指定的服务器自动下载RPM包并且安装，可以自动处理依赖性关系，并且一次安装所有依赖的软体包，无须繁琐地一次次下载、安装。

~~~
yum [options] [command] [package ...]
~~~

- **options：**可选，选项包括-h（帮助），-y（当安装过程提示选择全部为"yes"），-q（不显示安装的过程）等等。
- **command：**要进行的操作。
- **package**操作的对象。

> **yum常用命令**

- 1.列出所有可更新的软件清单命令：yum check-update
- 2.更新所有软件命令：yum update
- 3.仅安装指定的软件命令：yum install <package_name>
- 4.仅更新指定的软件命令：yum update <package_name>
- 5.列出所有可安裝的软件清单命令：yum list
- 6.删除软件包命令：yum remove <package_name>
- 7.查找软件包 命令：yum search <keyword>
- 8.清除缓存命令:
  - yum clean packages: 清除缓存目录下的软件包
  - yum clean headers: 清除缓存目录下的 headers
  - yum clean oldheaders: 清除缓存目录下旧的 headers
  - yum clean, yum clean all (= yum clean packages; yum clean oldheaders) :清除缓存目录下的软件包及旧的headers

